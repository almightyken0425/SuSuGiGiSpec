# 產品概念：UI 介面演化預測

---
## 設計哲學轉變

為了呼應從資料編輯器演化為邏輯除錯器的核心概念，UI 設計將重心從高效率輸入轉移至高維度審閱。介面不再只是一個填寫資料的表單，而是一個協助使用者與 AI Agent 協作的決策儀表板。

---
## 首頁 Dashboard 與待確認流程

- **OS 通知整合:**
    - 當外部事件例如 OS 簡訊或通知觸發新增紀錄請求時，App 不直接寫入帳本。
    - 系統發送通知給使用者，提示有待確認的變更。
- **Footer 導航變革:**
    - **待確認專區 Pending Review:**
        - 在原有的支出、轉帳、收入按鈕旁，新增一個醒目的待確認按鈕。
        - 此按鈕僅在有待處理項目時出現或高亮。
- **Tinder 式審閱介面:**
    - **卡片式互動:**
        - 點擊待確認按鈕後，進入卡片審閱模式。
        - 顯示 AI 預測的帳務內容金額、店家、分類。
    - **操作手勢:**
        - **右滑 Confirm:** 確認無誤，正式寫入 Transaction/Transfer Table。
        - **左滑 Reject/Edit:** 拒絕或進入編輯模式進行修正。

---
## 交易詳情頁 Transaction Detail

- **核心概念:**
    - 邏輯溯源 Traceability
- **演化方向:**
    - **顯示邏輯來源 Source of Truth:**
        - 明確標示欄位值的產出來源。
        - 範例：分類為餐飲，依據規則關鍵字 UberEats，來源為 12/05 的對話。

---
## 互動架構 Interaction Architecture

- **核心入口 Entry Point:**
    - **Footer 導航列:**
        - 在原有的支出、收入、轉帳三大功能鍵旁，新增顯眼的 **AI 對話** 按鈕。
    - **AI Chat 介面:**
        - 點擊後由底部向上展開對話視窗。

---
## AI Chat 介面與待審閱橫幅

- **對話輸入區 Input Area:**
    - 位於畫面底部，提供文字輸入框。
- **動態橫幅 Review Banners:**
    - 在文字輸入框正上方，類似 IDE 的 File Change 指示器 (如：`[+] +11 -0`)，顯示當前待處理事項。
    - **待確認紀錄 New Records:**
        - **觸發:** OS 通知、簡訊偵測、週期性自動生成。
        - **樣式:** **藍色/綠色**底色，顯示 3 筆新紀錄待確認。
    - **邏輯修正預覽 Rule Changes:**
        - **觸發:** 使用者與 AI 對話修改規則後，AI 重新運算的結果。
        - **樣式:** **黃色/紫色**底色，區隔新增與修改，顯示規則變更影響 15 筆歷史紀錄。

---
## 審閱詳情模式 Review Details

- **互動流程:**
    - 使用者點擊上述任一橫幅 Banner，跳轉至 **逐筆審閱清單**。
- **介面配置:**
    - **標題:** 顯示當前審閱的類型，例如：依據規則 Steam 修改的紀錄。
    - **清單內容:**
        - 以天為單位分組的交易列表。
        - **Highlight:**
            - **新增:** 整筆高亮。
            - **修改:** 顯示 **Before / After** 對照，差異欄位以顯著底色標示。
- **底部操作區 Action Bar:**
    - **統計:** 第 X 筆 / 共 Y 筆指示器。
    - **決策按鈕:**
        - **Approve 核准:** 確認無誤，寫入資料庫。
        - **Reject 拒絕:** 忽略此變更，或退回 Chat 介面重新下指令。

---
## 規則中心 Rule Center

- **核心概念:**
    - 使用者自定義規則 Customization Rules
- **功能定位:**
    - **規則管理 CRUD:**
        - 提供專屬介面讓使用者對客製化規則進行增刪改查。
        - 類似 ChatGPT 的 Custom Instructions，但針對記帳場景優化。
    - **規則範例:**
        - 總是將從 A 帳號轉出的 500 元視為零用錢。
        - 忽略所有金額小於 10 元的交易。
- **可視化管理:**
    - 列表顯示所有生效中的邏輯，支援啟用/停用開關。
