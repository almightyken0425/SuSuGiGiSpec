---
name: spec_linter
description: 專門用於檢查與校正專案規格文件的規範，確保嚴格遵循核心原則、命名規範與格式禁令。
---

# Spec Linter & Formatter Skill

當處理專案規格文件，特別是 `SuSuGiGiSpec` 或 `SIT/Feature` 目錄下的 `.md` 檔案時，必須嚴格執行以下規範。

> **完整政策文件參考:** 本 SKILL 提供自動化檢查清單，完整的規格撰寫政策請參閱同目錄下的 `spec_writing_policy.md`。

## 觸發機制
- **自動檢查**: 在讀取或修改規格文件前，先掃描是否違反禁令。
- **主動校正**: 在完成寫作或編輯後，執行格式化修正。
- **腳本驗證**: 必須執行驗證腳本並確保檢核通過。

---

## 檢查與校正清單

### 列表規範
- **違禁**: 嚴禁有序型態或星號型態。
- **校正**: 一律轉換為 `-` 項目。

### 符號與標點禁令
- **違禁**: 嚴禁使用括弧、引號、中括碼。
- **校正**: 將說明重寫為平舖敘述。
- **違禁**: 嚴禁出現錢幣符號。

### 命名與語言
- **檔名檢查**: 確保檔名符合編號與主題格式。
- **語言規範**: 所有執行計畫 Implementation Plan 與規格文件必須使用繁體中文。
- **硬編碼禁令**: 嚴禁於內文出現具體導航路徑或檔名。
- **校正**: 改為描述主題，例如參見資料結構。

### 佈局與描述
- **位置詞禁令**: 嚴禁出現方位的描述詞彙。
- **校正**: 依條列順序呈現。

### 關鍵字標準化
- **要求**: `結構:**`, `行為:**`, `IF:**`, `ELSE:**`, `屬性:**` 必須為粗體並包含冒號。
- **校正**: 自動修正格式缺失。

### UI 元件標記
- **要求**: 所有 UI 元件必須包裹在反引號中。
- **涵蓋範圍**: 包含 `按鈕`, `選擇器`, `輸入框`, `圖示`, `列表`, `區域`, `Header`, `Section` 等。
- **範例**: `確定按鈕`, `金額輸入框`。

### 標題規範
- **要求**: 除了第一個 `##` 標題外，所有 `##` 上方必須包含水平分隔線。
- **禁止**: 嚴禁在 `##`、`###` 等各級標題中使用數字標示順序。

### 列表階層一致性
- **要求**: 同一個列表階層內的項目應具備一致的樣式。
- **IF 階層內有項目使用關鍵字開頭**:
    - **行為**: 所有同階層項目皆必須使用關鍵字開頭。
    - **校正**: 移除 `**備註:**` 後，若兄弟項目帶有管關鍵字，應為純文字項目補上 `**行為:**` 或對應關鍵字。
- **避免冗餘**:
    - **禁止**: 父階層與子階層使用相同的關鍵字開頭（例如連續兩層 `**行為:**`）。
    - **行為**: 若父階層已定義關鍵字，子階層應優先使用更具體的關鍵字（如 `**iOS:**`, `**Android:**`）或直接描述內容。
- **關鍵字分組**:
    - **禁止**: 同階層兄弟項目重複使用相同的關鍵字。
    - **推薦**: 將重複的關鍵字提取為父階層，子項目縮排羅列內容。
- **範例**:
    - 原始 (拒絕):
        - **行為:** 於 main 建立 tag
        - **行為:** 推送至遠端
    - 修正 (推薦):
        - **行為:**
            - 於 main 建立 tag
            - 推送至遠端

---
## 絕對禁止項目
- 狀態詞: 禁止帶有 F 開頭或最終意義的標籤。
- 標記詞: 禁止備註或文件結束等補充。
- 層級詞: 禁止內部元件等層級。
- **編號**: 嚴禁在標題中使用數字編號（如 `1.`, `2.`）。

---

## 自動化驗證流程
在每次產出或修改規格後，必須執行腳本進行檢查。

```powershell
python "c:\Users\ken.chio\OneDrive - 勝和科技有限公司\文件\Repository\KnowledgeVault\.agent\skills\spec_linter\scripts\lint_spec.py" [檔案路徑]
```

如果驗證未通過，則必須根據錯誤訊息修正內容直到通過為止。

---

## 撰寫範例

### 處理示範
- **原始內容**:
  - 1. 點擊 `儲存按鈕`。
- **修正後內容**:
  - 點擊 `儲存按鈕`
